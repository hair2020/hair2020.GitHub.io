<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Docker-getting-started - HAIR&#39;s world</title><meta name="Description" content="关于 LoveIt 主题"><meta property="og:title" content="Docker-getting-started" />
<meta property="og:description" content="Get started tutorial 啥是docker is a runnable instance of an image. You can create, start, stop, move, or delete a container using the DockerAPI or CLI（命令行界面）. can be run on local machines, virtual machines or deployed to the cloud. is portable (can be run on any OS) Containers are isolated from each other" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hair2020.github.io/posts/code/docker/" /><meta property="og:image" content="https://hair2020.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-18T14:56:54+08:00" />
<meta property="article:modified_time" content="2022-02-18T14:56:54+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hair2020.github.io/logo.png"/>

<meta name="twitter:title" content="Docker-getting-started"/>
<meta name="twitter:description" content="Get started tutorial 啥是docker is a runnable instance of an image. You can create, start, stop, move, or delete a container using the DockerAPI or CLI（命令行界面）. can be run on local machines, virtual machines or deployed to the cloud. is portable (can be run on any OS) Containers are isolated from each other"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><script>
            var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?d98d8c5bdabdac46c39e35f772775887";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
            })();
        </script>
        
        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://hair2020.github.io/posts/code/docker/" /><link rel="prev" href="https://hair2020.github.io/posts/code/grammar/" /><link rel="next" href="https://hair2020.github.io/posts/code/cppvscodedebug/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Docker-getting-started",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/hair2020.github.io\/posts\/code\/docker\/"
        },"image": ["https:\/\/hair2020.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "docker","wordcount":  579 ,
        "url": "https:\/\/hair2020.github.io\/posts\/code\/docker\/","datePublished": "2022-02-18T14:56:54+08:00","dateModified": "2022-02-18T14:56:54+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/hair2020.github.io\/images\/avatar.png",
                    "width":  342 ,
                    "height":  280 
                }},"author": {
                "@type": "Person",
                "name": "hair"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="HAIR&#39;s world"> HAIR&#39;s blog<span class="header-title-post"><i class='far :no_smoking: fa-fw'></i></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="HAIR&#39;s world"> HAIR&#39;s blog<span class="header-title-post"><i class='far :no_smoking: fa-fw'></i></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Docker-getting-started</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>hair</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/notes/"><i class="far fa-folder fa-fw"></i>notes</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-02-18">2022-02-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 579 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 2 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#get-started-tutorial">Get started tutorial</a></li>
    <li><a href="#啥是docker">啥是docker</a></li>
    <li><a href="#1-the-example-of-build-the-apps-container-image">1 The example of &ldquo;Build the app’s container image&rdquo;</a>
      <ul>
        <li><a href="#11-get-app-and-create-a-dockerfile">1.1 Get app and Create a <code>Dockerfile</code></a></li>
        <li><a href="#12-build-the-container-image">1.2 Build the container image</a></li>
        <li><a href="#13-start-an-app-container">1.3 Start an app container</a></li>
        <li><a href="#14-use-use-吧">1.4 use use 吧</a></li>
      </ul>
    </li>
    <li><a href="#2-update-the-application">2 Update the application</a>
      <ul>
        <li>
          <ul>
            <li>
              <ul>
                <li><a href="#直接改删了原来的image再创建">直接改，删了原来的image，再创建</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#remove-a-container-using-the-cli">Remove a container using the CLI</a></li>
      </ul>
    </li>
    <li><a href="#3-push-the-image">3 Push the image</a></li>
    <li><a href="#记录下文档的反人类缩写">记录下文档的反人类缩写</a>
      <ul>
        <li>
          <ul>
            <li>
              <ul>
                <li>
                  <ul>
                    <li><a href="#来自sample-application--docker-documentationhttpsdocsdockercomget-started">来自<a href="https://docs.docker.com/get-started/">Sample application | Docker Documentation</a></a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#安装问题">安装问题</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="get-started-tutorial">Get started tutorial</h2>
<h2 id="啥是docker">啥是docker</h2>
<ul>
<li>is a runnable instance of an image. You can create, start, stop, move, or delete a container using the DockerAPI or CLI（命令行界面）.</li>
<li>can be run on local machines, virtual machines or deployed to the cloud.</li>
<li>is portable (can be run on any OS)</li>
<li>Containers are isolated from each other and run their own software, binaries, and configurations.</li>
</ul>
<h2 id="1-the-example-of-build-the-apps-container-image">1 The example of &ldquo;Build the app’s container image&rdquo;</h2>
<h3 id="11-get-app-and-create-a-dockerfile">1.1 Get app and Create a <code>Dockerfile</code></h3>
<p>1.1.1 <a href="https://github.com/docker/getting-started/tree/master/app" target="_blank" rel="noopener noreffer">Download the App contents</a></p>
<p>1.1.2 Create a file named <code>Dockerfile</code> in the same folder as the file <code>package.json</code> with the following contents.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="c"># syntax=docker/dockerfile:1</span><span class="err">
</span><span class="err"></span><span class="k">FROM</span><span class="s"> node:12-alpine</span><span class="err">
</span><span class="err"></span><span class="k">RUN</span> apk add --no-cache python2 g++ make<span class="err">
</span><span class="err"></span><span class="k">WORKDIR</span><span class="s"> /app</span><span class="err">
</span><span class="err"></span><span class="k">COPY</span> . .<span class="err">
</span><span class="err"></span><span class="k">RUN</span> yarn install --production<span class="err">
</span><span class="err"></span><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;node&#34;</span><span class="p">,</span> <span class="s2">&#34;src/index.js&#34;</span><span class="p">]</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="12-build-the-container-image">1.2 Build the container image</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"> docker build -t getting-started .
</code></pre></td></tr></table>
</div>
</div><ul>
<li>The <code>-t</code> flag tags our image. Named image <code>geting-started</code></li>
<li>The <code>.</code> means that Docker should look for the <code>Dockerfile</code> in the current directory</li>
</ul>
<h3 id="13-start-an-app-container">1.3 Start an app container</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"> docker run -dp 8080:3000 getting-started
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>-d</code> - run the container in detached mode (in the background)</li>
<li><code>-p 8080:3000</code> - map port 8080 of the host to port 3000 in the container</li>
<li><code>docker/getting-started</code> - the image to use</li>
</ul>
<h3 id="14-use-use-吧">1.4 use use 吧</h3>
<p>Add some items</p>
<p>If you take a quick look at the Docker Dashboard, you should see your two containers running now (this tutorial and your freshly launched app container).</p>
<h2 id="2-update-the-application">2 Update the application</h2>
<h5 id="直接改删了原来的image再创建">直接改，删了原来的image，再创建</h5>
<h3 id="remove-a-container-using-the-cli">Remove a container using the CLI</h3>
<ol>
<li>
<p>Get the ID of the container by using the <code>docker ps</code> command.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"> $ docker ps
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Use the <code>docker stop</code> command to stop the container.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"> # Swap out &lt;the-container-id&gt; with the ID from docker ps
 $ docker stop &lt;the-container-id&gt;
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Once the container has stopped, you can remove it by using the <code>docker rm</code> command.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"> $ docker rm &lt;the-container-id&gt;
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<blockquote>
<p><strong>Note</strong></p>
<p>You can stop and remove a container in a single command by adding the “force” flag to the <code>docker rm</code> command. For example: <code>docker rm -f &lt;the-container-id&gt;</code></p>
</blockquote>
<h2 id="3-push-the-image">3 Push the image</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">docker tag getting-started hair2020/getting-started
docker push hair2020/getting-started
</code></pre></td></tr></table>
</div>
</div><h2 id="记录下文档的反人类缩写">记录下文档的反人类缩写</h2>
<h6 id="来自sample-application--docker-documentationhttpsdocsdockercomget-started">来自<a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener noreffer">Sample application | Docker Documentation</a></h6>
<ul>
<li>MVP (minimum viable product 最小可行产品)</li>
<li>CLI（command-line interface命令行界面）</li>
<li>hub (是吧)</li>
</ul>
<h2 id="安装问题">安装问题</h2>
<ul>
<li>
<p>win10 已开启hyper-v所有服务</p>
<p>打开报错：</p>
<p><code>System.InvalidOperationExceptionshell</code></p>
<p><code>Failed to set version to docker-desktop: exit code: -1windows</code></p>
<p>解决：</p>
<p><a href="https://www.shangmayuan.com/a/67b6aead43c5494d91ee2f8f.html" target="_blank" rel="noopener noreffer">Windows 10 Docker InvalidOperationException Failed to set version to docker-desktop: exit code: -1 - 尚码园 (shangmayuan.com)</a></p>
<p>临时方案：cmd/shell下执行：<code>netsh winsock reset</code></p>
<p>重启docker</p>
<p>永久方案：在网站消失的时间里，用上了win10企业版，完美运行。</p>
</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-02-18</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/docker/">docker</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/code/grammar/" class="prev" rel="prev" title="Go Grammar memo"><i class="fas fa-angle-left fa-fw"></i>Go Grammar memo</a>
            <a href="/posts/code/cppvscodedebug/" class="next" rel="next" title="cppVscodeDebug">cppVscodeDebug<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">hair</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/twemoji@13.0.0/dist/twemoji.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.zh-cn","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"},"twemoji":true};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
